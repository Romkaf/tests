(this.webpackJsonptests=this.webpackJsonptests||[]).push([[0],{29:function(e,t,n){e.exports={root:"Modal_root__3Mk4M",lock:"Modal_lock__2eL6V"}},30:function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__FADwO",show:"Dropdown_show__2xDEa",disabled:"Dropdown_disabled__KzqoW"}},37:function(e,t,n){e.exports={answerList:"FormQuestion_answerList__DDAdZ",selected:"FormQuestion_selected__1GAq_"}},50:function(e,t,n){e.exports={error:"InputField_error__3BKdp"}},51:function(e,t,n){e.exports={root:"Login_root__1q63o"}},52:function(e,t,n){e.exports={error:"InputGroup_error__1ruXO"}},53:function(e,t,n){e.exports={btn:"FormAnswer_btn__2dQVj"}},68:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n(21),c=n.n(a),o=n(47),i=n(48),u=n(57),l=n(55),d=n(9),b=n(19),j=n(10),p=n(11),f="LOGIN_FORM",h="testsLocStore",O="QUESTION_FORM",x="username",m="password",v="passwordConfirmation",y="admin",w="Requires at least two characters",g="Requires at least six characters",S="Password does not match",T="Required to fill",_="Indicate the correct answer",N="Requires only one right answer",k="Requires at least two answers",E=n(50),q=n.n(E),R=function(e){var t=e.type,n=e.id,s=e.label,a=e.error;return Object(r.jsxs)("div",{className:"form-group position-relative",children:[Object(r.jsx)("label",{htmlFor:n,children:s}),Object(r.jsx)("input",{type:t,className:"form-control",id:n,required:!0}),a&&Object(r.jsx)("span",{className:q.a.error,children:a})]})},Q=n(51),C=n.n(Q),I=function(e){var t=e.label,n=e.func,s=e.color;return Object(r.jsx)("button",{type:"button",className:"btn btn-block btn-".concat(s," mt-4"),onClick:n,children:t})},A=T,D=w,M=g,F=S,U=function(e,t){return String(e).length>t},L=function(e){var t=e.onFetchRegistration,n=e.onFetchSignin,a=e.onToggleRegistration,c=e.isRegistrated,o=Object(s.useState)({}),i=Object(p.a)(o,2),u=i[0],l=i[1],d=x,b=m,j=v,h=y,O=function(e){a(),l({}),e.target.blur()},w=function(){var e,t,n=document.forms.LOGIN_FORM;return{username:n[d].value,password:n[b].value,password_confirmation:null===(e=n[j])||void 0===e?void 0:e.value,is_admin:null===(t=n[h])||void 0===t?void 0:t.checked}},g=function(e,t){var n=function(e){var t={};return U(e.username,1)||(t.username=D),e.username||(t.username=A),U(e.password,5)||(t.password=M),e.password||(t.password=A),void 0!==e.password_confirmation&&(e.password_confirmation!==e.password&&(t.password_confirmation=F),e.password_confirmation||(t.password_confirmation=A)),t}(e);l(n),0===Object.keys(n).length&&t(e)};return Object(r.jsxs)("form",{className:C.a.root,name:f,children:[Object(r.jsx)(R,{type:"text",id:d,label:"Login",error:null===u||void 0===u?void 0:u.username}),Object(r.jsx)(R,{type:"password",id:b,label:"Password",error:null===u||void 0===u?void 0:u.password}),!c&&Object(r.jsx)(R,{type:"password",id:j,label:"Confirm password",error:null===u||void 0===u?void 0:u.password_confirmation}),c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{label:"Log In",func:function(){var e=w();g(e,n)},color:"primary"}),Object(r.jsx)(I,{label:"I don't have an account",func:O,color:"secondary"})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"mb-3 form-check",children:[Object(r.jsx)("input",{type:"checkbox",className:"form-check-input",id:h}),Object(r.jsx)("label",{htmlFor:h,className:"form-check-label",children:"Are you an admin?"})]}),Object(r.jsx)(I,{label:"Registration",func:function(e){var n=w();g(n,t)},color:"primary"}),Object(r.jsx)(I,{label:"I have an account",func:O,color:"secondary"})]})]})},G="SHOW_MODAL",B="HIDE_MODAL",H="FETCH_REGISTRATION",P="FETCH_SIGNIN",J="FETCH_SIGNIN_SUCCESS",V="SIGNOUT",W="TOGGLE_REGISTRATION",K="SHOW_ERROR",X="HIDE_ERROR",z="FETCH_TESTS",Z="FETCH_TESTS_SUCCESS",Y="REQUEST_ADD_TEST",$="ADD_TEST",ee="CHANGE_FILTER",te="SORT_TESTS",ne="ADD_SORT_TESTS",re="REQUEST_DELETE_TEST",se="DELETE_TEST",ae="REQUEST_EDIT_TEST",ce="REQUEST_CREATE_QUESTION",oe="ADD_QUESTION",ie="UPDATE_QUESTION",ue="REQUEST_UPDATE_QUESTION",le="REQUEST_DELETE_QUESTION",de="DELETE_QUESTION",be="REQUEST_MOVE_ANSWER",je=function(e){return{type:J,payload:e}},pe=function(e,t){return{type:G,payload:{text:e,func:t}}},fe=function(){return{type:W}},he=function(e){return{type:K,payload:e}},Oe=function(e){return{type:Z,payload:e}},xe=function(e){return{type:$,payload:e}},me=function(e){return{type:ne,payload:e}},ve=function(e){return{type:se,payload:e}},ye=function(e){return{type:"EDIT_TEST",payload:e}},we=function(e,t){return{type:oe,payload:{id:e,data:t}}},ge=function(e,t){return{type:ie,payload:{id:e,data:t}}},Se=function(e,t){return{type:de,payload:{testId:e,questionId:t}}},Te={fetchRegistration:function(e){return{type:H,payload:e}},fetchSignin:function(e){return{type:P,payload:e}},toggleRegistration:fe},_e=Object(d.b)((function(e){return{isRegistrated:e.registration}}),Te)((function(e){var t=e.fetchRegistration,n=e.fetchSignin,s=e.toggleRegistration,a=e.isRegistrated;return Object(r.jsx)(L,{onFetchRegistration:t,onFetchSignin:n,onToggleRegistration:s,isRegistrated:a})})),Ne=function(){return Object(r.jsx)(_e,{})},ke=function(){return Object(r.jsxs)("div",{className:"alert alert-primary mt-3",children:[Object(r.jsx)("h3",{children:"Page not found"}),Object(r.jsx)("p",{children:"We are sorry but the page you are looking for does not exist."})]})},Ee=function(e){var t=e.item,n=e.onModalShow,s=e.isAdmin,a=t.title,c=t.created_at,o=t.id,i=new Date(c).toLocaleDateString(),u=Object(j.g)(),l=function(){return u.push("/tests/".concat(o))};return Object(r.jsxs)("tr",{className:"btn-light",tabIndex:"0",onClick:function(e){"BUTTON"!==e.target.tagName&&"I"!==e.target.tagName&&n("Do you want to start the test?",l)},children:[Object(r.jsx)("td",{children:a}),Object(r.jsx)("td",{children:i}),Object(r.jsx)("td",{children:s&&Object(r.jsx)("button",{className:"btn btn-sm btn-outline-secondary float-right",title:"Edit",onClick:function(){return u.push("/management/".concat(o))},children:Object(r.jsx)("i",{className:"bi bi-pencil-square"})})})]})},qe=function(e){var t=e.onModalShow,n=e.tests,s=e.isAdmin;return Object(r.jsx)("div",{children:Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Test"}),Object(r.jsx)("th",{children:"Date"}),Object(r.jsx)("th",{})]})}),Object(r.jsx)("tbody",{children:n.map((function(e){return Object(r.jsx)(Ee,{item:e,onModalShow:t,isAdmin:s},e.id)}))})]})})},Re={showModal:pe,fetchTests:function(){return{type:z}}},Qe=Object(d.b)((function(e){var t=e.tests,n=e.user,r=e.filter;return{tests:t,isAdmin:null===n||void 0===n?void 0:n.is_admin,filter:r}}),Re)((function(e){var t=e.showModal,n=e.tests,a=e.isAdmin,c=e.filter,o=e.fetchTests;Object(s.useEffect)((function(){return o()}),[]);var i=c?n.filter((function(e){return e.title.toUpperCase().includes(c.toUpperCase())})):n;return Object(r.jsx)(qe,{onModalShow:t,tests:i,isAdmin:a})})),Ce=n(52),Ie=n.n(Ce),Ae=n(22),De=n.n(Ae),Me=function(e){var t=e.title,n=e.btnTitle1,a=e.btnTitle2,c=e.funcBtn1,o=e.funcBtn2,i=e.isAdmin,u=void 0===i||i,l=e.onChangeFilter,d=Object(s.useState)(""),b=Object(p.a)(d,2),f=b[0],h=b[1],O=Object(s.useState)(!1),x=Object(p.a)(O,2),m=x[0],v=x[1],y=Object(j.g)(),w=De()("form-control","mr-2","shadow-sm",{"is-invalid":m});return Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsxs)("div",{className:"input-group input-group mb-1",children:[Object(r.jsx)("div",{className:"input-group-prepend",children:Object(r.jsx)("label",{htmlFor:t,className:"btn font-weight-bold",children:t})}),Object(r.jsx)("input",{id:t,type:"text",className:w,value:f,onChange:function(e){h(e.target.value),"Filter"===t&&function(e){l(e),y.push("/tests?search=".concat(e))}(e.target.value)}}),m&&Object(r.jsx)("div",{className:Ie.a.error,children:"Required to fill"})]}),Object(r.jsxs)("div",{className:"btn-group p-2",children:[Object(r.jsx)("button",{className:"btn btn-secondary",onClick:c,children:n}),u&&Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){"Filter"===t?o():f?(v(!1),o({title:f})):v(!0)},children:a})]})]})},Fe=Object(d.b)(null,{changeFilter:function(e){return{type:ee,payload:e}}})((function(e){return Object(r.jsx)(Me,{title:e.title,btnTitle1:e.btnTitle1,btnTitle2:e.btnTitle2,funcBtn1:e.funcBtn1,funcBtn2:e.funcBtn2,isAdmin:e.isAdmin,onChangeFilter:e.changeFilter})})),Ue=function(e){var t=e.onSignOut,n=e.onRequestAddTest,a=e.isAdmin,c=e.onTestsSort,o=Object(s.useState)(!1),i=Object(p.a)(o,2),u=i[0],l=i[1],d=function(){var e;return function(){e?(c("created_at_desc"),e=!1):(c("created_at_asc"),e=!0)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"d-flex  flex-md-row  p-3 px-md-4 mb-3 border-bottom",children:[Object(r.jsx)("h2",{className:"my-0 mr-md-auto font-weight-normal",children:"Tests"}),Object(r.jsx)(b.b,{className:"btn btn-primary ml-auto",to:"/login",onClick:t,children:"Log Out"})]}),Object(r.jsx)(Fe,{title:"Filter",btnTitle1:"Sort by date",btnTitle2:"New Test",funcBtn1:d,funcBtn2:function(){l(!0)}}),u&&Object(r.jsx)(Fe,{title:"Test title",btnTitle1:"Cansel",btnTitle2:"Create",funcBtn1:function(){l(!1)},funcBtn2:function(e){n(e)},isAdmin:a}),Object(r.jsx)(Qe,{})]})},Le={signOut:function(){return{type:V}},requestAddTest:function(e){return{type:Y,payload:e}},sortTests:function(e){return{type:te,payload:e}}},Ge=Object(d.b)((function(e){var t=e.user;return{isAdmin:null===t||void 0===t?void 0:t.is_admin}}),Le)((function(e){var t=e.signOut,n=e.requestAddTest,s=e.isAdmin,a=e.sortTests;return Object(r.jsx)(Ue,{onSignOut:t,onRequestAddTest:n,isAdmin:s,onTestsSort:a})})),Be=n(29),He=n.n(Be),Pe=function(e){var t=e.text,n=e.onModalConfirm,a=e.onModalHide;Object(s.useEffect)((function(){return c.current.focus(),document.body.classList.add(He.a.lock),function(){return document.body.classList.remove(He.a.lock)}}));var c=Object(s.useRef)(),o=function(){a()};return Object(r.jsx)("div",{className:"modal ".concat(He.a.root),tabIndex:"-1",ref:c,onClick:function(e){e.target.classList.contains("modal")&&a()},onKeyDown:function(e){27===e.keyCode&&a()},children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("button",{type:"button",className:"close mt-2","aria-label":"Close",onClick:o,children:Object(r.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsx)("p",{children:t})}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:o,children:"Cansel"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){n(),a()},children:"Confirm"})]})]})})})},Je=Object(d.b)((function(e){return{modal:e.modal}}),{hideModal:function(){return{type:B}}})((function(e){var t=e.modal,n=e.hideModal;return!!t&&Object(r.jsx)(Pe,{text:t.text,onModalConfirm:t.func,onModalHide:n})})),Ve=function(e){var t=e.title,n=e.onSetTypeQuestion,s=e.typeQuestion,a=e.onSetQuestion,c=e.onRequestDeleteQuestion,o=e.onModalShow;return Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("span",{className:"flex-fill pr-1",children:t}),Object(r.jsx)("button",{className:"btn btn-sm btn-outline-secondary float-right mr-3",onClick:function(){n(s),a()},children:Object(r.jsx)("i",{className:"bi bi-pencil-square"})}),Object(r.jsx)("button",{className:"btn btn-sm btn-outline-secondary float-right",onClick:function(){return o("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441?",c)},children:Object(r.jsx)("i",{className:"bi bi-x-square"})})]})},We=function(e){var t=e.questions,n=e.onSetTypeQuestion,s=e.onSetQuestion,a=e.onRequestDeleteQuestion,c=e.onModalShow;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h5",{children:"Questions:"}),Object(r.jsx)("ol",{className:"container pr-0",children:t.map((function(e){return Object(r.jsx)("li",{className:"alert alert-light",children:Object(r.jsx)(Ve,{title:e.title,typeQuestion:e.question_type,onSetTypeQuestion:n,onSetQuestion:(o=e,function(){return s(o)}),onRequestDeleteQuestion:(t=e.id,function(){return a(t)}),onModalShow:c})},e.id);var t,o}))})]})},Ke=n(17),Xe=n.n(Ke);We.propTypes={questions:Xe.a.array,onSetTypeQuestion:Xe.a.func,onSetQuestion:Xe.a.func,requestDeleteQuestion:Xe.a.func,showModal:Xe.a.func};var ze={requestDeleteQuestion:function(e,t){return{type:le,payload:{testId:e,questionId:t}}},showModal:pe},Ze=Object(d.b)(null,ze)((function(e){var t=Object(j.h)().pathname.replace(/\/management\//,"");return Object(r.jsx)(We,{questions:e.questions,onSetTypeQuestion:e.onSetTypeQuestion,onSetQuestion:e.onSetQuestion,onRequestDeleteQuestion:function(n){e.requestDeleteQuestion(t,n),e.onSetTypeQuestion("")},onModalShow:e.showModal})})),Ye=n(30),$e=n.n(Ye),et=function(e){var t=e.onSetTypeQuestion,n=e.typeQuestion;Object(s.useEffect)((function(){return n?u.current.classList.add("".concat(o)):u.current.classList.remove("".concat(o))}),[n]);var a=$e.a.dropdown,c=$e.a.show,o=$e.a.disabled,i=Object(s.useRef)(),u=Object(s.useRef)(),l=function(e){return t(e.target.textContent)},d=function(e){i.current.classList.toggle("".concat(c)),i.current.focus()};return Object(r.jsxs)("div",{className:"position-relative d-inline-block mb-3 mt-1",children:[Object(r.jsxs)("button",{className:"btn btn-primary",ref:u,onClick:d,children:["Add question",Object(r.jsx)("i",{className:"bi bi-caret-down-fill ml-3"})]}),Object(r.jsxs)("div",{id:"myDropdown",className:a,ref:i,tabIndex:"-1",onClick:d,children:[Object(r.jsx)("button",{className:"typeSelect btn btn-block btn-light",onClick:l,children:"single"}),Object(r.jsx)("button",{className:"typeSelect btn btn-block btn-light mt-0",onClick:l,children:"multiple"}),Object(r.jsx)("button",{className:"typeSelect btn btn-block btn-light mt-0",onClick:l,children:"number"})]})]})},tt=n(20),nt=n(8),rt=n(53),st=n.n(rt),at=function(e){var t=e.answer,n=e.typeQuestion,a=e.error,c=void 0===a?null:a,o=e.onModalShow,i=e.onAnswerDelete,u=c&&Object.keys(c).find((function(e){return e===String(t.id)})),l=Object(s.useState)((null===t||void 0===t?void 0:t.text)||""),d=Object(p.a)(l,2),b=d[0],j=d[1],f=Object(s.useState)(t.is_right||!1),h=Object(p.a)(f,2),O=h[0],x=h[1],m=De()("form-control",{"is-invalid":u===String(t.id)}),v=function(){return i(t.id)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"input-group-prepend shadow-sm",children:[Object(r.jsx)("input",{type:"number"===n?"number":"text",name:"input",className:m,value:b,"data-id":t.id,"aria-label":"Field for an answer",onChange:function(e){return j(e.target.value)},required:!0}),Object(r.jsx)("div",{className:"input-group-text",hidden:"number"===n&&!0,children:Object(r.jsx)("input",{type:"checkbox",name:"checkbox","aria-label":"Checkbox for right answer",checked:"number"===n||O,onChange:function(){return x((function(e){return!e}))}})}),"number"!==n&&Object(r.jsx)("button",{title:"Delete answer",type:"button",className:st.a.btn,onClick:function(){return o("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442?",v)},children:"\ud800\udd02"})]}),u===String(t.id)&&Object(r.jsx)("div",{className:"invalid-feedback d-block",children:c[u]})]})},ct=n(25),ot=T,it=_,ut=k,lt=N,dt=n(31);var bt=n(37),jt=n.n(bt),pt=function(e){var t=e.onSetTypeQuestion,n=e.typeQuestion,a=e.question,c=e.onRequestCreateQuestion,o=e.onRequestUpdateQuestion,i=e.onRequestMoveAnswer,u=e.onModalShow;Object(s.useEffect)((function(){return T()}));var l=Object(s.useState)(null),d=Object(p.a)(l,2),b=d[0],j=d[1],f=Object(s.useState)((null===a||void 0===a?void 0:a.title)||""),h=Object(p.a)(f,2),x=h[0],m=h[1],v=Object(s.useState)((null===a||void 0===a?void 0:a.answers)||[]),y=Object(p.a)(v,2),w=y[0],g=y[1],S=function(e){var t=Object(s.useRef)();return Object(s.useEffect)((function(){t.current=e})),t.current}(a),T=function(){a!==S&&a&&w!==(null===a||void 0===a?void 0:a.answers)&&(g(null===a||void 0===a?void 0:a.answers),m(null===a||void 0===a?void 0:a.title))},_=jt.a.answerList,N=jt.a.selected,k=De()("form-control","rounded","shadow-sm",{"is-invalid":null===b||void 0===b?void 0:b.question}),E=function(e,t){return{patchAnswers:e.filter((function(e){return t.some((function(t){return t.id===+e.id}))})),postAnswers:e.filter((function(e){return!t.some((function(t){return t.id===+e.id}))})),deleteAnswers:t.filter((function(t){return e.every((function(e){return e.id!=t.id}))}))}},q=function(e){var t=function(e){var t={};return e.title||(t.question=ot),"number"!==e.question_type&&(e.answers?("single"===e.question_type&&e.answers.filter((function(e){return!0===e.is_right})).length>1&&(t.answersGeneral=lt),e.answers.filter((function(e){return!0===e.is_right})).length||(t.answersGeneral=it),e.answers.length<2&&(t.answersGeneral=ut),e.answers.forEach((function(e){e.text||(t.answersInputs=Object(nt.a)(Object(nt.a)({},t.answersInputs),{},Object(ct.a)({},e.id,ot)))}))):t.answersGeneral=ut),"number"===e.question_type&&(e.answers?e.answers.forEach((function(e){e.text||(t.answersInputs=Object(nt.a)(Object(nt.a)({},t.answersInputs),{},Object(ct.a)({},e.id,ot)))})):t.answersGeneral=lt),t}(e);return j(t),t},R=function(e){g((function(t){return t.filter((function(t){return t.id!=e}))}))};return Object(r.jsxs)("form",{className:"bg-white container pt-2 pb-3 rounded-lg shadow",name:O,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("h5",{className:"d-inline-block",children:Object(r.jsx)("label",{children:"Question:"})}),Object(r.jsxs)("span",{className:"float-right",children:["Type:",n]}),Object(r.jsx)("input",{type:"text",className:k,value:x,"aria-label":"Field for the question",onChange:function(e){return m(e.target.value)},autoFocus:!0}),(null===b||void 0===b?void 0:b.question)&&Object(r.jsx)("div",{className:"invalid-feedback",children:b.question})]}),Object(r.jsx)("h5",{children:"Answers:"}),Object(r.jsx)(dt.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var r=Array.from(e),s=r.splice(t,1),a=Object(p.a)(s,1)[0];return r.splice(n,0,a),r}(w,e.source.index,e.destination.index);i(e.draggableId,e.destination.index),g(t)}},children:Object(r.jsx)(dt.c,{droppableId:"droppable",children:function(e){return Object(r.jsxs)("ul",Object(nt.a)(Object(nt.a)({className:_},e.droppableProps),{},{ref:e.innerRef,children:[w.map((function(e,t){return Object(r.jsx)(dt.b,{draggableId:String(e.id),index:t,children:function(t,s){return Object(r.jsx)("li",Object(nt.a)(Object(nt.a)(Object(nt.a)({className:"p-1 ".concat(s.isDragging&&N),ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(r.jsx)(at,{answer:e,typeQuestion:n,error:null===b||void 0===b?void 0:b.answersInputs,onModalShow:u,onAnswerDelete:R})}))}},e.id)})),e.placeholder]}))}})}),!("number"===n&&w.length>=1)&&Object(r.jsx)("button",{className:"btn btn-primary float-right",type:"button",title:"Add answer",onClick:function(){var e={text:"",is_right:!1,id:w.length};g((function(t){return[].concat(Object(tt.a)(t),[e])}))},children:Object(r.jsx)("i",{className:"bi bi-plus-circle"})}),Object(r.jsxs)("div",{className:"btn-group",children:[Object(r.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return t("")},children:"Cansel"}),Object(r.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){var e=function(){var e,t,r=document.forms.QUESTION_FORM;if(!r.input)return{title:x,question_type:n};var s=r.input.length?Array.from(r.input).map((function(e){return{id:e.dataset.id,text:e.value}})):[{id:r.input.dataset.id,text:r.input.value}],a=(null===(e=r.checkbox)||void 0===e?void 0:e.length)?Array.from(r.checkbox).map((function(e){return e.checked})):[null===(t=r.checkbox)||void 0===t?void 0:t.checked],c=s.map((function(e,t){return Object(nt.a)(Object(nt.a)({},e),{},{is_right:a[t]})}));return{title:x,answers:c,question_type:n}}(),r=q(e);0===Object.keys(r).length&&(a?function(e){var t=e.title,n=e.answers,r=e.question_type,s=E(n,a.answers),c={title:t,question_type:r,answer:n.length};o({updatingQuestion:c,checkedAnswers:s,quetionId:a.id})}(e):c(e),t(""))},children:"Save"})]}),(null===b||void 0===b?void 0:b.answersGeneral)&&Object(r.jsx)("div",{className:"invalid-feedback d-block",children:b.answersGeneral})]})},ft={requestCreateQuestion:function(e,t){return{type:ce,payload:{testId:e,data:t}}},requestUpdateQuestion:function(e,t){return{type:ue,payload:{testId:e,data:t}}},requestMoveAnswer:function(e,t){return{type:be,payload:{id:e,position:t}}},showModal:pe},ht=Object(d.b)(null,ft)((function(e){var t=Object(j.h)().pathname.replace(/\/management\//,"");return Object(r.jsx)(pt,{onSetTypeQuestion:e.onSetTypeQuestion,typeQuestion:e.typeQuestion,question:e.question,onRequestCreateQuestion:function(n){return e.requestCreateQuestion(t,n)},onRequestUpdateQuestion:function(n){return e.requestUpdateQuestion(t,n)},onRequestMoveAnswer:e.requestMoveAnswer,onModalShow:e.showModal})})),Ot=function(e){var t=e.test,n=e.onModalShow,a=e.onRequestDeleteTest,c=e.onRequestEditTest,o=Object(s.useState)((null===t||void 0===t?void 0:t.title)||""),i=Object(p.a)(o,2),u=i[0],l=i[1],d=Object(s.useState)(null),f=Object(p.a)(d,2),h=f[0],O=f[1],x=Object(s.useState)(""),m=Object(p.a)(x,2),v=m[0],y=m[1],w=Object(j.g)();Object(s.useEffect)((function(){return h&&!v&&O(null)}),[v]);var g=function(){a(t.id,w)},S=function(){c(t.id,u,w)};return Object(r.jsxs)("div",{children:[Object(r.jsxs)("h4",{className:"input-group align-items-baseline mb-3",children:[Object(r.jsx)("label",{children:"Test :"}),Object(r.jsx)("input",{type:"text",className:"form-control ml-2 rounded shadow-sm",value:u,onChange:function(e){l(e.target.value)}})]}),Object(r.jsxs)("div",{className:"btn-group mb-3",children:[Object(r.jsx)("button",{className:"btn btn-secondary",onClick:function(){return n("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0441\u0442?",g)},children:"Delete"}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){return n("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",S)},children:"Save"})]}),Object(r.jsx)(b.b,{to:"/tests",className:"btn btn-primary mb-3 float-right",children:"To home"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Ze,{questions:(null===t||void 0===t?void 0:t.questions)||[],onSetTypeQuestion:y,onSetQuestion:O}),Object(r.jsx)(et,{onSetTypeQuestion:y,typeQuestion:v}),v&&Object(r.jsx)(ht,{onSetTypeQuestion:y,typeQuestion:v||null,question:h})]})]})},xt={showModal:pe,requestDeleteTest:function(e,t){return{type:re,payload:{id:e,history:t}}},requestEditTest:function(e,t,n){return{type:ae,payload:{id:e,value:t,history:n}}}},mt=Object(d.b)((function(e){return{tests:e.tests}}),xt)((function(e){var t=e.tests,n=e.id,s=e.showModal,a=e.requestDeleteTest,c=e.requestEditTest,o=t.find((function(e){return e.id===+n}))||null;return Object(r.jsx)("div",{className:"pt-4 pb-4",children:Object(r.jsx)(Ot,{test:o,onModalShow:s,onRequestDeleteTest:a,onRequestEditTest:c})})})),vt=function(e){var t=e.id;return Object(r.jsx)(mt,{id:t})},yt=(n(68),function(e){var t=e.text;return Object(r.jsx)("div",{className:"error-indicator",children:Object(r.jsx)("span",{children:t})})}),wt=function(e){var t=e.user,n=e.error;return Object(r.jsx)(b.a,{children:Object(r.jsxs)("div",{className:"container",children:[n&&Object(r.jsx)(yt,{text:n}),Object(r.jsx)(Je,{}),Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",render:function(){return t?Object(r.jsx)(j.a,{to:"/tests"}):Object(r.jsx)(j.a,{to:"/login"})}}),Object(r.jsx)(j.b,{exact:!0,path:"/login",render:function(){return t?Object(r.jsx)(j.a,{to:"/tests"}):Object(r.jsx)(Ne,{})}}),Object(r.jsx)(j.b,{path:"/tests",exact:!0,component:Ge}),Object(r.jsx)(j.b,{path:"/tests/:id",render:function(e){var t=e.match;return Object(r.jsx)("div",{children:"Test ".concat(null===t||void 0===t?void 0:t.params.id," execution screen")})}}),Object(r.jsx)(j.b,{path:"/management/:id",render:function(e){var t=e.match;return Object(r.jsx)(vt,{id:null===t||void 0===t?void 0:t.params.id})}}),Object(r.jsx)(j.b,{component:ke})]})]})})},gt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.error;return Object(r.jsx)(wt,{user:t,error:n})}}]),n}(s.PureComponent),St=Object(d.b)((function(e){return{user:e.user,error:e.error}}),null)(gt),Tt=n(13),_t=n(56),Nt=Object(Tt.c)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(nt.a)({},t.payload);case B:return!1;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(nt.a)({},t.payload);case V:return null;default:return e}},registration:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return!e;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return t.payload;case X:return null;default:return e}},tests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case ne:return Object(tt.a)(t.payload);case $:return[].concat(Object(tt.a)(e),[t.payload]);case se:return e.filter((function(e){return t.payload!==e.id}));case oe:return e.map((function(e){return e.id==t.payload.id?Object(nt.a)(Object(nt.a)({},e),{},{questions:[].concat(Object(tt.a)(e.questions),[t.payload.data])}):e}));case ie:return e.map((function(e){return e.id==t.payload.id?Object(nt.a)(Object(nt.a)({},e),{},{questions:e.questions.map((function(e){return e.id==t.payload.data.id?t.payload.data:e}))}):e}));case de:return e.map((function(e){return e.id==t.payload.testId?Object(nt.a)(Object(nt.a)({},e),{},{questions:e.questions.filter((function(e){return e.id!=t.payload.questionId}))}):e}));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return t.payload;default:return e}}}),kt=n(5),Et=n.n(kt),qt=n(6),Rt=n(54),Qt=n.n(Rt).a.create({withCredentials:!0,baseURL:"https://snp-tests.herokuapp.com/api/v1/",headers:{"Content-Type":"application/json","scope-key":"".concat("?J_8TB]Eej:GVqR")},responseType:"json"}),Ct=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qt[e](t,n)}},It=Ct("get"),At=Ct("post"),Dt=Ct("delete"),Mt=Ct("patch"),Ft=function(e){return At("/signin",e)},Ut=function(){return Dt("/logout")},Lt=function(e){return At("/tests",e)},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return It("/tests".concat(e))},Bt=function(e){return Dt("/tests/".concat(e))},Ht=function(e,t){return Mt("/tests/".concat(e),t)},Pt=function(e,t){return At("/tests/".concat(e,"/questions"),t)},Jt=function(e,t){return At("/questions/".concat(e,"/answers"),t)},Vt=function(e,t){return Mt("/answers/".concat(e),t)},Wt=function(e,t){return Mt("/answers/".concat(e,"/insert_at/").concat(t))},Kt=function(e){return Dt("/answers/".concat(e))},Xt=Et.a.mark(zt);function zt(e,t){return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(qt.d)(he("".concat(e," ").concat(t)));case 2:return n.next=4,Object(qt.c)(7e3);case 4:return n.next=6,Object(qt.d)({type:X});case 6:case"end":return n.stop()}}),Xt)}var Zt=Et.a.mark(tn),Yt=Et.a.mark(nn),$t=Et.a.mark(rn),en=Et.a.mark(sn);function tn(e){var t;return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,At("/signup",t);case 4:return n.next=6,Object(qt.d)(fe());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,zt("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c!",n.t0);case 12:case"end":return n.stop()}}),Zt,null,[[1,8]])}function nn(e){var t,n,r;return Et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,s.next=4,Ft(t);case 4:return n=s.sent,r=n.data,s.next=8,Object(qt.d)(je(r));case 8:return s.next=10,It("/users/current");case 10:s.next=16;break;case 12:return s.prev=12,s.t0=s.catch(1),s.next=16,zt("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c!",s.t0);case 16:case"end":return s.stop()}}),Yt,null,[[1,12]])}function rn(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(qt.b)(Ut);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,console.log(e.t0);case 9:case"end":return e.stop()}}),$t,null,[[0,5]])}function sn(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qt.a)([Object(qt.e)(H,tn),Object(qt.e)(P,nn),Object(qt.e)(V,rn)]);case 2:case"end":return e.stop()}}),en)}var an=Et.a.mark(bn),cn=Et.a.mark(jn),on=Et.a.mark(pn),un=Et.a.mark(fn),ln=Et.a.mark(hn),dn=Et.a.mark(On);function bn(){var e,t;return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Gt();case 3:return e=n.sent,t=e.data.tests,n.next=7,Object(qt.d)(Oe(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",n.t0);case 13:case"end":return n.stop()}}),an,null,[[0,9]])}function jn(e){var t,n,r;return Et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,s.next=4,Lt(t);case 4:return n=s.sent,r=n.data,s.next=8,Object(qt.d)(xe(r));case 8:s.next=14;break;case 10:return s.prev=10,s.t0=s.catch(1),s.next=14,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",s.t0);case 14:case"end":return s.stop()}}),cn,null,[[1,10]])}function pn(e){var t,n,r;return Et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,s.next=4,Gt("?sort=".concat(t));case 4:return n=s.sent,r=n.data.tests,s.next=8,Object(qt.d)(me(r));case 8:s.next=14;break;case 10:return s.prev=10,s.t0=s.catch(1),s.next=14,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",s.t0);case 14:case"end":return s.stop()}}),on,null,[[1,10]])}function fn(e){var t,n,r;return Et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,n=t.id,r=t.history,s.next=5,Bt(n);case 5:return s.next=7,Object(qt.d)(ve(t));case 7:return s.next=9,r.push("/tests");case 9:s.next=15;break;case 11:return s.prev=11,s.t0=s.catch(1),s.next=15,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0441\u0442 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",s.t0);case 15:case"end":return s.stop()}}),un,null,[[1,11]])}function hn(e){var t,n,r,s;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,n=t.id,r=t.value,s=t.history,a.next=5,Ht(n,{title:r});case 5:return a.next=7,Object(qt.d)(ye(t));case 7:return a.next=9,s.push("/tests");case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",a.t0);case 15:case"end":return a.stop()}}),ln,null,[[1,11]])}function On(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qt.a)([Object(qt.e)(z,bn),Object(qt.e)(Y,jn),Object(qt.e)(te,pn),Object(qt.e)(re,fn),Object(qt.e)(ae,hn)]);case 2:case"end":return e.stop()}}),dn)}var xn=Et.a.mark(Tn),mn=Et.a.mark(_n),vn=Et.a.mark(Nn),yn=Et.a.mark(kn),wn=Et.a.mark(En),gn=Et.a.mark(qn),Sn=Et.a.mark(Rn);function Tn(e,t){var n,r,s,a,c,o;return Et.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.title,r=t.answers,s=t.question_type,a={title:n,question_type:s,answer:r.length},i.next=4,Pt(e,a);case 4:return c=i.sent,o=c.data,i.abrupt("return",o);case 7:case"end":return i.stop()}}),xn)}function _n(e,t,n){return Et.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(qt.a)(e.map(Et.a.mark((function e(r){var s,a;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n||r.id,r);case 2:return s=e.sent,a=s.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),mn)}function Nn(e){var t,n,r,s,a;return Et.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,n=t.testId,r=t.data,c.next=5,Tn(n,r);case 5:return s=c.sent,c.next=8,_n(r.answers,Jt,s.id);case 8:return a=c.sent,c.next=11,Object(qt.d)(we(n,Object(nt.a)(Object(nt.a)({},s),{},{answers:a})));case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(1),c.next=17,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",c.t0);case 17:case"end":return c.stop()}}),vn,null,[[1,13]])}function kn(e){var t,n,r,s,a,c,o,i,u,l,d,b,j;return Et.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.prev=1,n=t.testId,r=t.data,s=r.updatingQuestion,a=r.checkedAnswers,c=r.quetionId,o=a.patchAnswers,i=a.postAnswers,u=a.deleteAnswers,p.next=6,f=s,Mt("/questions/".concat(c),f);case 6:if(l=p.sent,d=l.data,b=[],j=[],!o.length){p.next=13;break}return p.next=12,_n(o,Vt);case 12:b=p.sent;case 13:if(!i.length){p.next=17;break}return p.next=16,_n(i,Jt,c);case 16:j=p.sent;case 17:if(!u.length){p.next=20;break}return p.next=20,_n(u,Kt);case 20:return p.next=22,Object(qt.d)(ge(n,Object(nt.a)(Object(nt.a)({},d),{},{answers:b.concat(j)})));case 22:p.next=28;break;case 24:return p.prev=24,p.t0=p.catch(1),p.next=28,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",p.t0);case 28:case"end":return p.stop()}var f}),yn,null,[[1,24]])}function En(e){var t,n,r;return Et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,n=t.testId,r=t.questionId,s.next=5,Dt("/questions/".concat(r));case 5:return s.next=7,Object(qt.d)(Se(n,r));case 7:s.next=13;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",s.t0);case 13:case"end":return s.stop()}}),wn,null,[[1,9]])}function qn(e){var t,n,r;return Et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,n=t.id,r=t.position,s.next=5,Wt(n,r);case 5:s.next=11;break;case 7:return s.prev=7,s.t0=s.catch(1),s.next=11,zt("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",s.t0);case 11:case"end":return s.stop()}}),gn,null,[[1,7]])}function Rn(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qt.a)([Object(qt.e)(ce,Nn),Object(qt.e)(ue,kn),Object(qt.e)(le,En),Object(qt.e)(be,qn)]);case 2:case"end":return e.stop()}}),Sn)}var Qn=Et.a.mark(Cn);function Cn(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qt.a)([sn(),On(),Rn()]);case 2:case"end":return e.stop()}}),Qn)}var In=JSON.parse(localStorage.getItem(h))||{user:null,tests:[],error:"",modal:!1,registration:!0},An=Object(_t.a)(),Dn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Tt.d,Mn=Object(Tt.e)(Nt,In,Dn(Object(Tt.a)(An)));An.run(Cn);var Fn=Mn;n(88),n(89);Fn.subscribe((function(){localStorage.setItem(h,JSON.stringify(Fn.getState()))})),c.a.render(Object(r.jsx)(d.a,{store:Fn,children:Object(r.jsx)(St,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.f16a5fe1.chunk.js.map